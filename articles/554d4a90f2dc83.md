---
title: "Gemini Fullstack Langgraph ã‚’è©¦ã—ãŸã‘ã©ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§æ—¥æœ¬èªã®èª¿å­ãŒæ‚ªã„ã®ã§ API ã‚’å©ã„ãŸ"
emoji: "ğŸ¤–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["deepresearch", "langgraph", "gemini", "oss"]
published: true
---

## ç’°å¢ƒ

- macOS 15.3.1
- docker 28.0.4
- 2025-06-05

## ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãŒèª¿å­æ‚ªã„ï¼Ÿ

- æ—¥æœ¬èªå…¥åŠ›ãŒã¾ã¨ã‚‚ã«ã§ããªã„ã€‚ãƒšãƒ¼ã‚¹ãƒˆã§å¯¾å‡¦ã¯å¯èƒ½ã€‚
- æ¤œç´¢ã¯ã•ã‚Œã¦ã„ãã†ã ã‘ã©ã€ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦çµæœãŒè¡¨ç¤ºã•ã‚Œãªã„ã€‚

## API ã‚’å©ã„ã¦ã¿ãŸ

### API ä»•æ§˜ã®ç¢ºèª

- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
    - `open http://localhost:8123/docs`
- OpenAPI Specification
    - `curl http://localhost:8123/openapi.json`

### å®Ÿè¡Œ

ã‚¹ãƒ¬ãƒƒãƒ‰ã®ä½œæˆ

```bash
THREAD_ID=$(curl -s http://localhost:8123/threads \
  -H "Content-Type: application/json" \
  -d '{}' \
  | jq -r '.thread_id')
```

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå…¥åŠ›

```bash
USER_PROMPT="æœ€æ–°ã® Claude Desktop ã®æ©Ÿèƒ½ã«ã¤ã„ã¦èª¿ã¹ã¦ãã ã•ã„"
```

ãƒ¢ãƒ‡ãƒ«é¸æŠ

```bash
REASONING_MODEL="gemini-2.5-flash-preview-04-17"
# gemini-2.0-flash
# gemini-2.5-flash-preview-04-17
# gemini-2.5-pro-preview-05-06
```

ã‚¹ãƒˆãƒªãƒ¼ãƒ å¯å¦

```bash
STREAM="/stream"  # "" or "/stream"
```

æ¤œç´¢å®Ÿè¡Œ

```bash
curl -N -X POST http://localhost:8123/threads/${THREAD_ID}/runs${STREAM} \
  -H "Content-Type: application/json" \
  -d "{
    \"assistant_id\": \"agent\",
    \"input\": {
      \"messages\": [
        {
          \"role\": \"user\",
          \"content\": \"${USER_PROMPT}\"
        }
      ],
      \"reasoning_model\": \"${REASONING_MODEL}\"
    }
  }"
```

![è¨­å®š](/images/554d4a90f2dc83/deepresearch.gif)

çµæœç¢ºèª

```bash
curl -s http://localhost:8123/threads/$THREAD_ID/state | jq
```

## æ‰€æ„Ÿ

æ¤œç´¢çµæœã‚’ã¡ã‚ƒã‚“ã¨è¦‹ã¦ã„ãªã„ã‘ã©ã€ãªã‚“ã¨ãªãè‰¯ã•ãã†ãªï¼Ÿ
ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãªã©ã§åˆ©ç”¨ã—ã¦ã¿ãŸã„ã€‚
gemma ã§ã‚‚å‹•ãã¨ã‹ã€‚
ä»¥ä¸Šã€‚
